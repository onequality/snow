{"version":3,"file":"src_app_tab2_tab2_module_ts.js","mappings":"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","sources":["./src/app/tab2/tab2-routing.module.ts","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2.page.ts","./src/app/tab2/tab2.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","import { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { AlertController } from '@ionic/angular';\nimport { OnInit } from '@angular/core';\n\nimport { GlobalService } from '../global.service';\nimport { InterfaceJob } from '../interfaceJob';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page implements OnInit {\n  \n  public listJobs: InterfaceJob;\n  \n  constructor(\n    private http: HttpClient,\n    private alertController: AlertController,\n    private global: GlobalService,\n  ) {}\n\n  ngOnInit() {\n    this.searchJobs();\n  }\n\n  ionViewWillEnter() \n  {\n    this.searchJobs();\n  }\n  \n  async searchJobs()\n  {\n    let data: InterfaceJob;\n    await this.getJobs().\n      then((response: any) => data = response);\n    this.listJobs = data;\n    console.log('this.listJobs', this.listJobs);\n  }\n\n  async getJobs(): Promise<any> {\n    const data = await this.http.get(this.global.urlServer + 'listJobs').toPromise();\n    return data;\n  }\n\n  editJob($id: any){}\n\n  async deleteJob($id: any, $date_job: string, $snow: string, $obs: string)\n  {\n    const alert = await this.alertController.create\n    (\n      {\n        header: 'Delete this Job?',\n        message: 'Job: ' + $id + ' <br><strong> ' + $date_job + ' - ' + $snow + '</strong> <br> ' + $obs,\n        buttons: [\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: (blah: any) => {\n              console.log('Confirm Cancel: blah');\n            }\n          }, \n          {\n            text: 'Yes, confirm Delete!',\n            handler: (data: any) => {\n              console.log('OK ---> Data -> ' + JSON.stringify(data));\n              let postData = {\n                id: $id,\n              };\n              this.http.put<InterfaceJob>\n              (this.global.urlServer + 'deleteJob', postData).\n              subscribe(data => {} );\n              console.log(' apagou aqui mas nao deve ter atualizado');\n            }\n          }\n        ]\n      }\n    );\n    await alert.present();\n    this.searchJobs();\n    console.log('this.listJobs depois do delete await: ', this.listJobs);\n\n  }\n}\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Report\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\" padding>\\n\\n  <ion-list *ngFor=\\\"let job of listJobs\\\">\\n    <ion-item-sliding _ngcontent-fsi-c3=\\\"\\\" track=\\\"ionic\\\" class=\\\"md hydrated\\\">\\n      <ion-item >\\n        <ion-label>\\n          <h3>{{job.date_job_string}} - Snow - {{job.snow}}</h3>\\n          <p>\\n            Ice Malt h: {{job.icemelt_h}} &mdash; Shoviling h: {{job.shoviling_h}} &mdash; Plaw h: {{job.plaw_h}}\\n          <br />\\n            Ice Malt i: {{job.icemelt_i}} &mdash; Shoviling i: {{job.shoviling_i}} &mdash; Plaw i: {{job.plaw_i}}\\n          </p>\\n          <p>\\n            {{job.obs1}} \\n          </p>\\n        </ion-label>\\n  \\n  <ion-item-option color=\\\"primary\\\" (click)=\\\"editJob(job.id)\\\">\\n    <small>\\n      <small>\\n        Edit\\n      </small>\\n    </small>\\n    <ion-icon slot=\\\"top\\\" name=\\\"receipt-outline\\\"></ion-icon>\\n  </ion-item-option>\\n  <ion-item-option color=\\\"danger\\\" (click)=\\\"deleteJob(job.id, job.date_job_string, job.snow, job.obs)\\\">\\n    <small>\\n      <small>\\n        Delete\\n      </small>\\n    </small>\\n    <ion-icon slot=\\\"top\\\" name=\\\"trash\\\"></ion-icon>\\n  </ion-item-option>\\n  \\n\\n</ion-item>\\n</ion-item-sliding>\\n</ion-list>\\n\\n\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}